{% extends "::base.html.twig" %}
{% block custom_css %}
    <!-- Bootstrap core CSS -->
    <link href="{{ asset('bundles/backend/css/bootstrap.min.css') }}" rel="stylesheet">

    <!-- Bootstrap Social CSS -->
    <link href="{{ asset('bundles/backend/css/bootstrap-social.css') }}" rel="stylesheet">

    <!-- Animation CSS -->
    <link href="{{ asset('bundles/backend/css/animate.css') }}" rel="stylesheet">
    <link href="{{ asset('bundles/backend/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{ asset('bundles/backend/css/style.css') }}" rel="stylesheet">
    <link href="{{ asset('bundles/frontend/css/flag-icon.min.css') }}" rel="stylesheet">
    <link href="{{ asset('bundles/frontend/css/frontend.css') }}" rel="stylesheet">

    <!-- Script for Google Analitics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-84022340-1', 'auto');
        ga('send', 'pageview');

    </script>

{% endblock %}

{% block body_properties %}id="page-top" class="landing-page"{% endblock %}

{% block body %}

    {# BEGIN Facebook #}

    <script>
        window.fbAsyncInit = function () {
            // init the FB JS SDK
            FB.init({
                appId: '1649902018655142',                        // App ID from the app dashboard
                channelUrl: '//yourdomain.com/channel.html',      // Channel file for x-domain comms
                cookie: true,            // enable cookies to allow the server to access the session
                status: true,                                 // Check Facebook Login status
                xfbml: true                                  // Look for social plugins on the page
            });
        };

        // Load the SDK asynchronously
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {
                return;
            }
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/all.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        function fb_login() {
            FB.getLoginStatus(function (response) {
                if (response.status === 'connected') {
                    // connected
                    document.location = "{{ url("hwi_oauth_service_redirect", {service: "facebook"}) }}";
                } else {
                    // not_authorized
                    FB.login(function (response) {
                        if (response.authResponse) {
                            document.location = "{{ url("hwi_oauth_service_redirect", {service: "facebook"}) }}";
                        }
                    });
                }
            });
        }

        // Here we run a very simple test of the Graph API after login is
        // successful.  See statusChangeCallback() for when this call is made.
        function getFacebookNameUser() {
            console.log('Welcome!  Fetching your information.... ');
            FB.api('/me', function (response) {
                console.log('Successful login for: ' + response.name);
                document.getElementById('logged-in-user').innerHTML = response.name;
            });
        }
    </script>

    {# END Facebook #}

    {% block navbar %}
        {% embed '@Frontend/navbar.html.twig' %}
        {% endembed %}
    {% endblock %}

    {% block page_content %}

    {% endblock %}

    {% block footer %}
        <section id="contact" class="brown-section section-spaces-line hidden-print">
            <div class="container">
                <div class="row m-b-lg">
                    <div class="col-lg-12 text-center">
                        <div class="section-line green-line"></div>
                        <h1>{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'headerContactUs' })) }}</h1>

                        <p>{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'subheaderContactUs' })) }}</p>
                    </div>
                </div>
                <div class="row m-b-lg">
                    <div class="col-sm-6 col-sm-offset-3">
                        <div class="text-center">
                            <p id="hours-operation">
                                <strong><span
                                            class="green">{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'headerTodaysHoursOperation' })) ~ ":" }} </span></strong>
                                <br/>
                                <small>
                                    {{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'subheaderTodaysHoursOperation' })) | raw }}
                                    {#<b>{{ 'Every week day' | trans({}, 'homepage') }}</b>#}
                                    {#,#}
                                    {#<br/>#}
                                    {#{{ 'from' | trans({}, 'homepage') }}#}
                                    {#<b>10:00am</b> {{ 'to' | trans({}, 'homepage') }} <b>9:00pm</b>#}
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <a title="{{ 'MALL MAP' | trans({}, 'homepage') }}"
                           href="{{ path('mall_map', { 'slug' : 'all' }) }}"
                           class="btn btn-green m-r">{{ 'MALL MAP' | trans({}, 'homepage') }}</a>
                        <a title="{{ 'Contact Us' | trans({}, 'homepage') | upper }}"
                           href="{{ path('mall_map') }}"
                           class="btn btn-blue">{{ 'Contact Us' | trans({}, 'homepage') | upper }}</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2">
                        <hr/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 text-center">
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlTwitter' })) is not empty %}
                            <a title="Follow us on Twitter"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlTwitter' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-twitter text-muted m-l m-r">
                                <span class="fa fa-twitter"></span>
                            </a>
                        {% endif %}
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlGoogle' })) is not empty %}
                            <a title="Follow us on Google +"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlGoogle' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-google text-muted m-l m-r">
                                <span class="fa fa-google"></span>
                            </a>
                        {% endif %}
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlFacebook' })) is not empty %}
                            <a title="Follow us on Facebook"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlFacebook' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-facebook text-muted m-l m-r">
                                <span class="fa fa-facebook"></span>
                            </a>
                        {% endif %}
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlInstagram' })) is not empty %}
                            <a title="Follow us on Instagram"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteUrlInstagram' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-instagram text-muted m-l m-r">
                                <span class="fa fa-instagram"></span>
                            </a>
                        {% endif %}
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'pinterest' })) is not empty %}
                            <a title="Follow us on Pinterest"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'pinterest' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-pinterest text-muted m-l m-r">
                                <span class="fa fa-pinterest"></span>
                            </a>
                        {% endif %}
                        {% if render(controller('BackendBundle:Settings:getSettings', { 'property' : 'snapchat' })) is not empty %}
                            <a title="Follow us on Snapchat"
                               href="{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'snapchat' })) }}"
                               target="_blank"
                               class="btn btn-circle-muted btn-outline btn-social-icon btn-snapchat text-muted m-l m-r">
                                <span class="fa fa-snapchat"></span>
                            </a>
                        {% endif %}

                        <a title="Follow us on Trip Advisor"
                           href="https://www.tripadvisor.com/Attraction_Review-g55229-d12398886-Reviews-Plaza_Mariachi_Music_City-Nashville_Davidson_County_Tennessee.html"
                           target="_blank"
                           class="btn btn-circle-muted btn-outline btn-social-icon btn-tripadvisor text-muted m-l m-r">
                            <span class="fa fa-tripadvisor"></span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="copyright" class="dark-brown-section hidden-print">
            <div class="row">
                <div class="col-lg-12 text-center m-t m-b-xs">
                    <p>{{ render(controller('BackendBundle:Settings:getSettings', { 'property' : 'websiteCopyright' })) | raw }}
                        <br/></p>
                </div>
            </div>
        </section>

        {# Scroll to top button #}
        <a title="Return to top" id="return-to-top" href="#"><i class="fa fa-chevron-up"></i></a>
    {% endblock %}
{% endblock %}

{% block custom_js %}
    <!-- Mainly scripts -->
    <script src="{{ asset('bundles/backend/js/jquery-2.1.1.js') }}"></script>
    <script src="{{ asset('bundles/backend/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('bundles/backend/js/plugins/metisMenu/jquery.metisMenu.js') }}"></script>
    <script src="{{ asset('bundles/backend/js/plugins/slimscroll/jquery.slimscroll.min.js') }}"></script>

    <!-- Custom and plugin javascript -->
    <script src="{{ asset('bundles/backend/js/inspinia.js') }}"></script>
    {#<script src="{{ asset('bundles/backend/js/plugins/pace/pace.min.js') }}"></script>#}
    <script src="{{ asset('bundles/frontend/js/wow/wow.min.js') }}"></script>
    <script src="{{ asset('bundles/backend/js/plugins/select2/select2.full.min.js') }}"></script>
    <script src="{{ asset('bundles/frontend/js/filter.js') }}"></script>
    <script src="{{ asset('bundles/frontend/js/vue.js') }}"></script>
    {#<script src="https://maps.googleapis.com/maps/api/js"></script>#}


    <script type="text/javascript">

        $(document).ready(function () {
            // Set tooltip
            $("body").tooltip({selector: '[data-toggle=tooltip]'});

            // script for animated navbar to scroll action
            var cbpAnimatedHeader = (function () {
                var docElem = document.documentElement,
                        header = document.querySelector('.navbar-default'),
                        didScroll = false,
                        changeHeaderOn = 200;

                function init() {
                    window.addEventListener('scroll', function (event) {
                        if (!didScroll) {
                            didScroll = true;
                            setTimeout(scrollPage, 250);
                        }
                    }, false);
                }

                function scrollPage() {
                    var sy = scrollY();
                    if (sy >= changeHeaderOn) {
                        $(header).addClass('navbar-scroll');

                        // relocate facebook button on top
                        if ($('.container-fb-share-button').length) {
                            $('.container-fb-share-button').addClass('btn-collapsed');
                        }
                    } else {
                        $(header).removeClass('navbar-scroll');

                        // relocate facebook button on top
                        if ($('.container-fb-share-button').length) {
                            $('.container-fb-share-button').removeClass('btn-collapsed');
                        }
                    }
                    didScroll = false;
                }

                function scrollY() {
                    return window.pageYOffset || docElem.scrollTop;
                }

                init();

                // END - script for animated navbar to scroll action

                // script for show the go to top button over scroll after the 70% of the height

                var viewHeight = (typeof window.outerHeight !== 'undefined') ? Math.max(window.outerHeight, $(window).height()) : $(window).height();

                var limit = viewHeight * 0.7; // limit in 70%

                // ===== Scroll to Top ====
                $(window).scroll(function () {
                    if ($(this).scrollTop() >= limit) {        // If page is scrolled more than 50px
                        $('#return-to-top').fadeIn(200);    // Fade in the arrow
                    } else {
                        $('#return-to-top').fadeOut(200);   // Else fade out the arrow
                    }
                });
                $('#return-to-top').click(function () {      // When arrow is clicked
                    $('body,html').animate({
                        scrollTop: 0                       // Scroll to top of body
                    }, 500);
                });
                // END - script for show the go to top button over scroll after the 70% of the height


                // focus contact link
                /*$('#contact-link').on('click', function () {
                    $(this).addClass('active');
                    $('#navbar.navbar-collapse.collapse.in').removeClass('in');
                });

                if (window.location.hash) {
                    var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character
                    // hash found
                    if (hash.trim().toLowerCase() == 'contact') {
                        $('#contact-link').addClass('active');
                        $('#navbar.navbar-collapse.collapse.in').removeClass('in');
                    } else {
                        $('#contact-link').removeClass('active');
                    }
                }*/

                // END - focus contact link

            })();
        });
    </script>
{% endblock %}
