{% extends '@Frontend/layout.html.twig' %}

{% block title ' - ' ~ "Subscribe for deals" %}

{% block content %}
    <section class="inner-content section-spaces-line">
        <div class="container">
            <div class="row m-b">
                <div class="col-lg-12 text-center">
                    <div class="section-line amber-line"></div>
                    <h1>Subscribe for new deals</h1>
                </div>
            </div>
            <div class="col-sm-6 col-sm-offset-3 text-center">
                {{ form_start(form) }}

                <div class="form-group{% if(form.email.vars['errors']|length > 0) %} {{ ' has-error' }} {% endif %}">

                    {{ form_widget(form.email, { 'attr': {'class' : 'form-control', 'placeholder' : 'Email'}}) }}
                    {% if form.email.vars['errors']|length > 0 %}
                        <ul class="message">
                            {% for error in form.email.vars['errors'] %}
                                <li>{{ error.message }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}

                </div>

                <div class="form-group{% if(form.categories.vars['errors']|length > 0) %} {{ ' has-error' }} {% endif %}">

                    {{ form_widget(form.categories, { 'attr': {'class' : 'form-control select2-field', 'style' : 'width: 100%'}}) }}
                    {% if form.categories.vars['errors']|length > 0 %}
                        <ul class="message">
                            {% for error in form.categories.vars['errors'] %}
                                <li>{{ error.message }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}

                </div>

                <div class="form-group m-t-lg">
                    <div class="col-md-12">

                        {{ form_widget(form.submit, { 'attr': { 'class' : 'btn btn-amber btn-lg', }}) }}

                        {{ form(form) }}

                    </div>
                </div>

                {{ form_end(form) }}
            </div>
        </div>
    </section>
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script src="{{ asset('bundles/backend/js/plugins/select2/select2.full.min.js') }}"></script>
{% endblock %}

{% block inline_javascript %}
    <script type="text/javascript">

        $(document).ready(function () {

            //  select2 scripts for batch actions combobox
            $(".select2-field").select2({
                placeholder: "--- Select a category ---"
            });
        });

    </script>
{% endblock %}